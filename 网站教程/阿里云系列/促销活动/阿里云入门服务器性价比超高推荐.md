# 产品简介

经济型e实例是阿里云面向个人开发者、学生、小微企业，在中小型网站建设、开发测试、轻量级应用等场景推出的全新入门级云服务器，采用Intel® Xeon® Platinum架构处理器，支持1:1、1:2、1:4多种处理器内存配比，采用非绑定CPU调度模式，每个vCPU会被随机分配到任何空闲CPU超线程上。与企业级实例相比，e实例侧重于资源的共享，但是费用更低。

产品地址：https://www.aliyun.com/daily-act/ecs/ecs//detail/e?spm=5176.8789780.J_3965641470.4.2d6939fbQVuuil

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007421.png)

平均每天0.27，真的是超级超级超级便宜，性价比极高！

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017773.png)

**2vCPU、2GiB内存、40GiB ESSD、Entry系统盘、3Mbps 多线BGP固定带宽**，新老用户均可购买1台，并且续费不涨价。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017386.png)



# 开通方式



## 方式一：领取试用

回到https://developer.aliyun.com/topic/ecse?spm=a2c6h.27063436.J_6978680750.3.5d594f469bqTAb 页面，可以看到中间的免费领取试用。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007057.png)

点击试用按钮后即可进入页面免费开通3个月，每月280额度的ECS服务器。



## 方式二：购买使用

进入到产品界面：https://www.aliyun.com/daily-act/ecs/ecs//detail/e?spm=5176.8789780.J_3965641470.4.2d6939fbQVuuil， 点击立即购买。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007196.png)

目前有两种购买形式，一种是快速购买，一种是自定义购买。（**区别不是很大**）

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017447.png)

或者是直接下拉进入到产品选购界面，点击后即可进行快速购买。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007494.png)

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017298.png)

购买完成后进入控制台界面即可看到自己所购买的ECS服务器实例。（**注意地区选择**）

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007656.png)

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017308.png)



# 产品特点



## 基本特点

- 价格厚道：不限购，敞开买，起步配置低至0.5元/天，续费不涨价
- 品质保障：与企业级产品拥有相同可用性SLA、安全防护标准与运维管理体系，搭载企业级特性及数据保护能力的ESSD Entry云盘
- 供应充沛：国内32个可用区售卖，对库存不足、限制购买说不
- 配比丰富：支持1:1、1:2、1:4多种处理器内存配比，2核2G内存起步，让用户选择更简单



## 配置特点

- **计算：**
  - 支持1:1、1:2、1:4多种处理器内存配比
  - 处理器：Intel® Xeon® Platinum可扩展处理器（e实例采用非绑定CPU调度模式，每个vCPU会被随机分配到任何空闲CPU超线程上。与企业级实例相比，e实例侧重于资源的共享，但是费用更低。）

- **存储：**
  - I/O优化实例
  - 支持ESSD Entry云盘（推荐）、ESSD云盘、ESSD AutoPL云盘（
    受经济型实例规格限制，PL1、PL2和PL3性能级别的ESSD云盘无法发挥极致性能，建议您选择ESSD Entry云盘或PL0性能级别的ESSD云盘。)

- **网络：**
  - 支持IPv4、IPv6
  - 仅支持专有网络VPC
  - 实例网络性能与计算规格对应（规格越大网络性能越强）

- **规格及指标数据：**

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007592.png)



# 适用场景

- 中小型网站建设

- 开发测试

- 轻量级应用

  

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252014075.png)





# 场景一 : 快速搭建网站

进入https://www.aliyun.com/daily-act/ecs/ecs//detail/e?spm=5176.8789780.J_3965641470.4.40df39fbEHOtD9 。

点击下图位置进入教程：

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007687.png)

成功登录后，在产品类别下选择**计算 > 云服务器 ECS**，按需选择云服务器试用规格，单击立即试用。本试用教程使用的实例规格为1核2GB 每月750小时，实际操作时，建议根据您的业务体量和需求选择。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007738.png)

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017239.png)

单击试用实例的ID，选择安全组页签，单击安全组操作列的配置规则，在入方向添加需要放行的端口。本教程中，在安全组入方向放行SSH默认22端口、Apache默认80端口。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017769.png)

执行命令安装Apache及其扩展包。如果回显信息显示Complete!，则表示Apache安装成功。

```js
sudo yum -y install httpd httpd-manual httpd-devel mod_ssl mod_perl php-mysqli
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252017550.png)

依次执行命令启动Apache并设置自启动。执行命令查看Apache运行状态。如果回显信息显示active（running）时，表示Apache已启动。

```js
sudo systemctl start httpd
sudo systemctl enable httpd
sudo systemctl status httpd
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007451.png)

在本地电脑浏览器地址栏中输入http://，测试Apache服务是否安装成功。如果显示如图所示的测试页面，表示Apache服务已安装成功。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007248.png)

依次执行命令下载并安装MySQL数据库。回显信息显示Complete!，表示MySQL数据库安装成功。

```js
wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm
sudo yum install -y mysql57-community-release-el7-10.noarch.rpm
sudo yum install -y mysql-community-server --nogpgcheck
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007176.png)

执行命令启动MySQL数据库。

```js
sudo systemctl start mysqld.service
```

执行命令查看MySQL数据库的运行状态。如果回显信息显示active（running）时，表示MySQL数据库已启动。

```js
systemctl status mysqld.service
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_e16e8f577e0046e3873a093482802e7b.png)

执行命令查看MySQL数据库的初始密码。

```js
sudo grep "password" /var/log/mysqld.log
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007578.png)

执行命令登录MySQL数据库。根据回显信息，输入MySQL数据库的初始密码。

```js
mysql -uroot -p
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_04cd950a93e24bbe914798748327867d.png)

执行命令修改MySQL数据库的初始密码。

```js
ALTER USER 'root'@'localhost' IDENTIFIED BY '<新密码>';
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_c4f6f47db15e48469d4a0e8815a9d3cd.png)

执行以下命令，创建一个存储网站内容的数据库pbootcms。

```js
create database pbootcms;
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007168.png)

执行以下命令，查看数据库是否创建成功。如果回显信息显示pbootcms，表示数据库创建成功。

```js
show databases;
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007353.png)

执行命令更新remi源。

```js
sudo rpm -ivh https://rpms.remirepo.net/enterprise/remi-release-8.rpm --nodeps
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_d7b6dcae9adf410b9bfefe776473733a.png)

执行命令安装PHP以及相关的库。

```js
sudo dnf update -y dnf libdnf
sudo sed -i 's/PLATFORM_ID="platform:al8"/PLATFORM_ID="platform:el8"/g' /etc/os-release
sudo yum -y module install php:remi-7.4
sudo sed -i 's/PLATFORM_ID="platform:el8"/PLATFORM_ID="platform:al8"/g' /etc/os-release
sudo yum -y install php-gd
```

但是执行时提示 **sudo: dnf: command not found**。

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_6c1ee5b3fd0b4899a4589130b903a6af.png)

此时需要安装epel-release 依赖后再安装 DNF 包。

```js
#安装 epel-release 依赖：
yum install epel-release

#安装 DNF 包：
yum install dnf
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007889.png)

执行命令重启Apache服务。

```js
sudo systemctl restart httpd
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007950.png)

执行命令查看PHP版本号。出现如图所示时，表示PHP版本为7.4.33。

PbootCMS系统要求的PHP版本不低于7.0。

```js
php -v
```

执行以下命令创建PHP测试页面。

```js
echo "<?php phpinfo(); ?>" > /var/www/html/phpinfo.php
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007117.png)

在本地浏览器的址栏中，，访问[http://ECS公网IP/phpinfo.php，显示如下页面表示PHP语言环境安装成功。](http://xn--ecsip-oq5hn55y/phpinfo.php，显示如下页面表示PHP语言环境安装成功。)

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007223.png)

在ECS服务器上，执行命令安装Git。出现如图所示时，表示已成功安装Git。

```js
sudo yum install -y git
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_93d282aaadc94cd28fbf336fa2afbd7e.png)

执行命令下载PbootCMS源码文件。出现如图所示时，表示已成功下载PbootCMS源码文件。

```js
cd ~ && git clone https://gitee.com/hnaoyun/PbootCMS.git
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007771.png)

执行命令将安装包拷贝到Apache的wwwroot目录下。

```js
sudo cp -r PbootCMS/* /var/www/html/
```

执行命令修改站点根目录文件权限。

```js
sudo chmod -R a+w /var/www/html
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_8a3e70dfe60245b094b1f41da0548b30.png)

向已创建的MySQL数据库中导入PbootCMS的初始数据。

查看PbootCMS的初始数据库文件。根据回显信息，初始PbootCMS数据库文件为pbootcms_v324.sql。

```js
ls /var/www/html/static/backup/sql/
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007959.png)

登录已创建的pbootcms数据库。在执行命令前，请将命令中的<您的数据库密码>替换为您设置的数据库密码，-p和密码之间不需要空格。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007090.png)

执行命令导入PbootCMS的初始数据库文件。

```js
source /var/www/html/static/backup/sql/pbootcms_v324.sql
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007461.png)

输入exit退出数据库。

执行以下命令，修改PbootCMS系统数据库配置。在执行命令前，请根据参数说明替换您的数据库配置。默认您只需要更改数据库密码即可。

```js
sudo bash -c 'cat > /var/www/html/config/database.php' << EOF
<?php
return array(
    'database' => array(
        'type' => 'mysqli', // 数据库连接驱动类型：mysqli,sqlite,pdo_mysql,pdo_sqlite
        'host' => '127.0.0.1', // 数据库服务器
        'user' => 'root', // 数据库连接用户名
        'passwd' => 'PassWord1****', // 数据库连接密码
        'port' => '3306', // 数据库端口
        'dbname' => 'pbootcms' //数据库名称
    )
);
EOF
```

执行命令启动Apache HTTP服务。

```js
sudo systemctl start httpd
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_7c77812cddb749e2bee11c18da15ec84.png)

在浏览器地址栏[http://ECS公网IP地址/admin.php](http://xn--ecsip-oq5ho85axd7621b/admin.php) ，进入PbootCMS登录页面。默认用户名为admin，密码为123456。根据页面提示，修改admin用户密码，单击立即提交。

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_07f84c84e3c24319adb194ad9bb7e735.png)

登录PbootCMS后，单击右上角的网站主页，进入如图页面，表示搭建网站成功。

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_321aa16b2a5f4edc9a9a32b0ab57fc5b.png)



# 场景二 : 基于CentOS快速搭建LAMP环境

进入https://www.aliyun.com/daily-act/ecs/ecs//detail/e?spm=5176.8789780.J_3965641470.4.40df39fbEHOtD9 。

点击下图位置进入教程：

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007095.png)

Apache是世界使用排名第一的Web服务器软件。它可以运行在几乎所有广泛使用的计算机平台上，由于其跨平台和安全性被广泛使用，是最流行的Web服务器端软件之一。

前面方式和场景一中一致，故再次不多赘述。

执行命令安装Apache及其扩展包。如果回显信息显示Complete!，则表示Apache安装成功。

```js
sudo yum -y install httpd httpd-manual httpd-devel mod_ssl mod_perl php-mysqli
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007039.png)

依次执行命令启动Apache并设置自启动。

```js
sudo systemctl start httpd
sudo systemctl enable httpd
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_73731d12678144769d911124e4bfaf94.png)

执行命令查看Apache运行状态。如果回显信息显示active（running）时，表示Apache已启动。

```js
systemctl status httpd
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007456.png)

在本地电脑浏览器地址栏中输入[http://ECS服务器的公网IP](http://xn--ecsip-oq5h65eb8lwp4bhl6aeiu/) ，测试Apache服务是否安装成功。如果显示如图所示的测试页面，表示Apache服务已安装成功。ECS服务器的弹性公网IP可以从ECS实例页面获取。

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_d517c5f04a744a168d1abfa75639756e.png)

接下来安装MySQL。MySQL是最流行的关系型数据库管理系统，在WEB应用方面MySQL是最好的 RDBMS(Relational Database Management System：关系数据库管理系统)应用软件之一。

执行以下命令，下载并安装MySQL官方的Yum Repository。

```js
wget http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm
yum -y install mysql57-community-release-el7-10.noarch.rpm
yum -y install mysql-community-server --nogpgcheck
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_e01c0b99e12d4bc3a4cc3fe3e362a347.png)

运行以下命令查看MySQL版本号。

```js
mysql -V
```

返回结果如下所示，表示MySQL安装成功。

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007525.png)

执行以下命令，启动 MySQL 数据库。

```js
systemctl start mysqld.service
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007542.png)

执行以下命令，查看MySQL初始密码。

```js
grep "password" /var/log/mysqld.log
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_56e86fc4e55447de953cd2e2ded7adaf.png)

执行以下命令，登录数据库。

```js
mysql -uroot -p
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007725.png)

执行以下命令，修改MySQL默认密码。

```js
set global validate_password_policy=0;  #修改密码安全策略为低（只校验密码长度，至少8位）。
ALTER USER 'root'@'localhost' IDENTIFIED BY '12345678';
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_2f7cdf0980ee4663bf651382ca012345.png)

执行以下命令，授予root用户远程管理权限。

```js
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '12345678';
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007354.png)

输入 exit 退出数据库。

接下来安装PHP。PHP（PHP：Hypertext Preprocessor递归缩写）中文名字是：“超文本预处理器”，是一种广泛使用的通用开源脚本语言，适合于Web网站开发，它可以嵌入HTML中。编程范型是面向对象、命令式编程的。

执行以下下命令，安装PHP环境。

```js
yum -y install php php-mysql gd php-gd gd-devel php-xml php-common php-mbstring php-ldap php-pear php-xmlrpc php-imap
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007559.png)

执行以下命令创建PHP测试页面。

```js
echo "<?php phpinfo(); ?>" > /var/www/html/phpinfo.php
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007600.png)

执行以下命令，重启Apache服务。

```js
systemctl restart httpd
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_163b5dfe1bd04e4ba70233a596dbe6a9.png)

在本地浏览器的址栏中，，访问[http://ECS公网IP/phpinfo.php](http://xn--ecsip-oq5hn55y/phpinfo.php) ，显示如下页面表示PHP语言环境安装成功。

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_cd086c3ab42a43f781e970e416eb3ee3.png)

完成以上操作后，已经成功搭建了LAMP环境，LAMP环境分别代表Linux、Apache、MySQL和PHP。



# 场景三 : 手动部署Java Web环境

进入https://www.aliyun.com/daily-act/ecs/ecs//detail/e?spm=5176.8789780.J_3965641470.4.40df39fbEHOtD9 。

点击下图位置进入教程：

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007122.png)

执行如下命令，查看当前防火墙的状态。

```js
systemctl status firewalld
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007151.png)

执行如下命令，查看SELinux的当前状态

```js
getenforce
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007423.png)

执行如下命令，创建一般用户www来运行Tomcat。

```js
useradd www
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_08a0b94254654e72901f0bff9c7a5734.png)

执行如下命令，创建网站根目录。

```js
mkdir -p /data/wwwroot/default
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007784.png)

执行如下命令，将网站根目录的所属用户设置为www。

```js
chown -R www.www /data/wwwroot
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007988.png)

接下来安装JDK1.8。

执行如下命令，通过yum命令查找JDK1.8软件包。

```js
yum -y list java*
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_c555bf94254d4e07b8b48d2d2a00b43c.png)

执行如下命令，安装列表中的JDK1.8软件包。

```js
yum -y install java-1.8.0-openjdk-devel.x86_64
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_c8ffeb0a74924498ac48eb70bbcdbd17.png)

执行如下命令，查看JDK版本。

```js
java -version
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007468.png)

配置环境变量。

执行如下命令，打开配置文件。

```js
vim /etc/profile
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252016933.png)

在配置文件中，添加以下信息。

```js
JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.1.al7.x86_64
PATH=$PATH:$JAVA_HOME/bin
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JAVA_HOME CLASSPATH PATH
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007650.png)

执行如下命令，立即生效环境变量。

```js
source /etc/profile
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252016572.png)

安装Apache Tomcat。

执行如下命令，下载Tomcat 8安装包。

```js
wget --no-check-certificate https://labfileapp.oss-cn-hangzhou.aliyuncs.com/apache-tomcat-8.5.72.tar.gz
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007329.png)

执行如下命令，解压Tomcat 8安装包。

```js
tar -zxvf apache-tomcat-8.5.72.tar.gz
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252016824.png)

执行如下命令，移动Tomcat所在目录。

```js
mv apache-tomcat-8.5.72 /usr/local/tomcat/
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007536.png)

执行如下命令，将文件的所属用户设置为www。

```js
chown -R www.www /usr/local/tomcat/
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015965.png)

在/usr/local/tomcat/目录下：

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252016215.png)

- bin：存放Tomcat的一些脚本文件，包含启动和关闭Tomcat服务脚本。
- conf：存放Tomcat服务器的各种全局配置文件，其中最重要的是server.xml和web.xml。
- webapps：Tomcat的主要Web发布目录，默认情况下把Web应用文件放于此目录。
- logs：存放Tomcat执行时的日志文件。

执行如下命令，切换到/usr/local/tomcat/conf/目录。

```js
cd /usr/local/tomcat/conf/
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252016799.png)

执行如下命令，重命名server.xml文件。

```js
mv server.xml server.xml_bk
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007374.png)

新建一个server.xml文件。执行如下命令，创建并打开server.xml文件。

```js
vi server.xml
```

添加以下内容。

```js
<?xml version="1.0" encoding="UTF-8"?>
<Server port="8006" shutdown="SHUTDOWN">
<Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"/>
<Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/>
<Listener className="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/>
<Listener className="org.apache.catalina.core.AprLifecycleListener"/>
<GlobalNamingResources>
<Resource name="UserDatabase" auth="Container"
 type="org.apache.catalina.UserDatabase"
 description="User database that can be updated and saved"
 factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
 pathname="conf/tomcat-users.xml"/>
</GlobalNamingResources>
<Service name="Catalina">
<Connector port="8080"
 protocol="HTTP/1.1"
 connectionTimeout="20000"
 redirectPort="8443"
 maxThreads="1000"
 minSpareThreads="20"
 acceptCount="1000"
 maxHttpHeaderSize="65536"
 debug="0"
 disableUploadTimeout="true"
 useBodyEncodingForURI="true"
 enableLookups="false"
 URIEncoding="UTF-8"/>
<Engine name="Catalina" defaultHost="localhost">
<Realm className="org.apache.catalina.realm.LockOutRealm">
<Realm className="org.apache.catalina.realm.UserDatabaseRealm"
  resourceName="UserDatabase"/>
</Realm>
<Host name="localhost" appBase="/data/wwwroot/default" unpackWARs="true" autoDeploy="true">
<Context path="" docBase="/data/wwwroot/default" debug="0" reloadable="false" crossContext="true"/>
<Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs"
prefix="localhost_access_log." suffix=".txt" pattern="%h %l %u %t &quot;%r&quot; %s %b" />
</Host>
</Engine>
</Service>
</Server>
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015015.png)

设置JVM内存参数。

执行如下命令，创建并打开/usr/local/tomcat/bin/setenv.sh文件。

```js
vi /usr/local/tomcat/bin/setenv.sh
```

添加以下内容

指定JAVA_OPTS参数，用于设置JVM的内存信息以及编码格式。

```js
JAVA_OPTS='-Djava.security.egd=file:/dev/./urandom -server -Xms256m -Xmx496m -Dfile.encoding=UTF-8'
```

设置Tomcat自启动脚本

```js
wget https://raw.githubusercontent.com/oneinstack/oneinstack/master/init.d/Tomcat-init
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015933.png)

执行如下命令，移动并重命名Tomcat-init。

```js
mv Tomcat-init /etc/init.d/tomcat
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015122.png)

执行如下命令，为/etc/init.d/tomcat添加可执行权限。

```js
chmod +x /etc/init.d/tomcat
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015955.png)

执行如下命令，设置启动脚本JAVA_HOME。

```js
sed -i 's@^export JAVA_HOME=.*@export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.1.al7.x86_64@' /etc/init.d/tomcat
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007651.png)

依次执行如下命令，设置Tomcat开机自启动。

```js
chkconfig --add tomcat
chkconfig tomcat on
```

执行如下命令，启动Tomcat。

```js
service tomcat start
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252015116.png)

最后，我们进行部署测试项目并验证。

将需要部署的Java Web项目文件WAR包上传到网站根目录下，并将网站根目录下文件所属用户改为www。可以使用支持文件传输功能的远程连接工具或搭建FTP站点上传项目文件。

执行如下命令，新建测试文件。

```js
echo Tomcat test > /data/wwwroot/default/index.jsp
```

![image.png](https://cdn.jsdelivr.net/gh/Arisono-h5/technical-resources-static@dev/imgs/202401252007140.png)

在本地浏览器地址栏中输入[http://弹性IP:8080](http://xn--ip-rn3d27a:8080/) 进行访问。

![8a5b5ce4da6b47bf96c988d2a27f8aaa.png](https://ucc.alicdn.com/pic/developer-ecology/pmur6hy3nphhs_5a40d98f4da944b5a7408b620144fa37.png)

至此，三个场景实操结束。



# e 实例究竟能带来什么？

众所周知 ，e 实例主打的就是一个物美价廉，使用e实例最大的一个优势就是可以节省成本，主要体现在一下两点：

- 低成本：e实例的价格非常优惠，比其他同类产品和规格的云服务器便宜很多，适合预算有限的用户或初创企业。（**平均每天0.27，还要什么自行车？**）
- 免费额度：e实例提供了每月的免费额度，进一步降低了使用成本。

除此之外，在基本配置上它也没有过于拉胯，能够满足开发者的基本需求。

- 适合小型应用：对于日均访问量在1万左右的小型网站或应用，单核4GB内存的e实例可以提供足够的支持，满足基本的计算和存储需求。
- 弹性扩展：作为阿里云ECS的一部分，e实例也可以享受到阿里云的弹性扩展能力，可以根据业务需求进行灵活的资源调整。

说了这么多好的，但从客观上来说，e实例确实也有很多不足。比如，最基本的一点就是性能限制。e实例属于入门级产品序列，不适合长时间的高负载的企业级稳定计算性能需求。如果应用程序需要高性能计算或者处理大量数据，e实例无法满足需求。除此之外，虽然e实例的稳定性有所保障，但相比更高规格的实例类型，其容错能力和数据安全性可能会略逊一筹。在访问速度方面，对于需要大量公网流量的应用，e实例的免费流量额度用尽后，额外的流量费用可能会较高，影响整体成本效益。

e实例适合于对成本敏感、业务规模较小且性能需求不高的场景。在这些场景下，e实例能够以较低的成本提供稳定的云计算服务。然而，对于高性能、高可靠性和大规模流量的需求，就需要考虑选择更高级别的实例类型。

这里我想再额外推荐一篇文章：《深度解读：为什么会有ECS经济型e实例及其背后思考》，链接：https://developer.aliyun.com/article/1397989?spm=a2c6h.12883283.index.19.77984307UUJaDR 。

这里面也提到:" **阿里云必须更加坚定转向用户视角，多维度满足用户需求，用户需求的优先级高于一切，上百万的大学生、开发者和小微企业是阿里云赖以发展的基石。
通常，学生、开发者和小微企业主要使用云服务器主要开展网站建设、开发测试和业务灾备、搭建小程序后端服务、Web应用、云上博客搭建、私人云盘、小型游戏搭建等应用。这些小型应用对于云服务器选型时，除了对性能、网络、安全等指标有要求之外，还会遇到选型难、价格普遍高的问题。** "

抛开我个人，站在阿里云的角度从社会利益长远来看，e实例很好地解决了选型难、成本高的问题，确实也是普惠大众的行为。e实例的推出解决了许多学生、开发者和小微企业在云服务器选型时遇到的问题，具有普惠性和包容性。通过降低价格、提供灵活的配置选项和免费试用期等方式，e实例为这些群体提供了更加平等的参与云计算和互联网行业的机会。

回想到我的学生时代，我的很多创造力和创新精神都受制于资金和资源的限制。但e实例的低成本和免费试用期给予了这些年轻人更多的实践机会，能够激发其创造力，培养技术能力，为未来的创业和就业奠定基础。

对于开发者和小微企业而言，e实例降低了其上云成本，使得他们可以更加轻松地运行和测试应用，部署小型业务，并且在商业模式不确定的初期能够降低风险，促进创新和创业。

通过推出e实例等面向学生、开发者和小微企业的产品，阿里云可以更好地了解他们的需求和痛点，优化产品设计和性能，提高用户黏性和满意度。同时，对于其他云计算服务供应商而言，e实例的推出也是一种积极的刺激，促使其不断优化产品性能和服务质量，推动整个云计算服务市场的健康发展。

因此，e实例的推出不仅仅是一种产品服务，更是一种**普惠的行为**。它有助于促进技术创新、经济增长，同时也有助于培养更多的技术人才，推动整个互联网行业的可持续发展。在未来，也期望阿里云还会继续加强与用户的沟通和互动，不断改进和完善产品和服务，以满足用户多样化的需求，进一步推动整个云计算行业的健康发展。